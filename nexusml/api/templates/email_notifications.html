<html>
  <head>
    <meta charset="UTF-8" />
    <title>{{ app_name }} - Notifications</title>
    <meta name="description" content="{{ app_name }} - Notifications" />
  </head>

  <body
    style="
      background: #04152c;
      padding: 0px 5% 2% 5%;
      color: #202124;
      font-family: 'Open Sans', roboto, sans-serif;
      font-size: 16px;
      background-image: url('https://neuraptic.ai/wp-content/uploads/2024/01/hexagono.png'),
        url('https://neuraptic.ai/wp-content/uploads/2024/01/hexagono.png');
      background-size: 35vmin 35vmin, 25vmin 25vmin, 30vmin 30vmin,
        40vmin 40vmin;
      background-position: 0 0, 100% 5%;
      background-repeat: no-repeat no-repeat;
    "
  >
    <table style="width: 100%; text-align: center">
      <tr>
        <td style="padding: 1rem">
          <img
            src="https://nexusml.neuraptic.ai/media/img/logo/nexusml.png"
            alt="logo"
            style="width: 127px; height: 128px"
          />
        </td>
      </tr>
    </table>

    <table
      style="
        background-color: white;
        width: 100%;
        text-align: center;
        border-radius: 0.35rem;
      "
    >
      <tr>
        <td style="font-weight: bold; text-align: center; padding: 1rem 0px">
          Hi {{ first_name }}! You have unread notifications
        </td>
      </tr>
      <tr>
        <td style="padding: 0.5rem 1rem">
          <table
            style="
              outline: 2px solid #0099ff;
              width: 100%;
              border-radius: 0.35rem;
              padding: 0.5rem 1rem;
              text-align: left;
            "
          >
            <!-- TASKS UPDATED -->

            {% set n_tasks_updated = updated_tasks|length %} {% if
            n_tasks_updated > 0 %}
            <tr>
              <td>
                <b>Updated Tasks ({{ n_tasks_updated }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% for task in updated_tasks -%}
                  <li>{{ task.name }}&emsp;({{ task.modified_at }})</li>
                  {%- endfor %}
                </ul>
              </td>
            </tr>
            {% elif task_updates_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>Task Updates ({{ task_updates_count }})</b>
              </td>
            </tr>
            {% endif %}

            <!-- AI RELEASES -->

            {% set n_released_models = released_models|length %} {% if
            n_released_models > 0 %}
            <tr>
              <td>
                <b>Released AI Models ({{ n_released_models }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% for model in released_models -%}
                  <li>{{ model.name }}&emsp;({{ model.created_at }})</li>
                  {%- endfor %}
                </ul>
              </td>
            </tr>
            {% elif model_releases_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>AI Model Releases ({{ model_releases_count }})</b>
              </td>
            </tr>
            {% endif %} {% set n_example_comments = example_comments|length %}

            <!-- EXAMPLE COMMENTS -->

            {% if n_example_comments > 0 %}
            <tr>
              <td>
                <b>Example Comments ({{ n_example_comments }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% for example_id, comment in example_comments -%}
                  <li>
                    {{ example_id }}: <i>"{{ comment.message }}"</i>&emsp;({{
                    comment.created_at }})
                  </li>
                  {%- endfor %}
                </ul>
              </td>
            </tr>
            {% elif example_comments_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>Example Comments ({{ example_comments_count }})</b>
              </td>
            </tr>
            {% endif %}

            <!-- EXAMPLES UPDATED -->

            {% set n_examples_updated = example_updates|length %} {% if
            n_examples_updated > 0 %}
            <tr>
              <td>
                <b>Updated Examples ({{ n_examples_updated }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% for example in example_updates -%}
                  <li>{{ example.uuid }}&emsp;({{ example.modified_at }})</li>
                  {%- endfor %}
                </ul>
              </td>
            </tr>
            {% elif example_updates_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>Example Updates ({{ example_updates_count }})</b>
              </td>
            </tr>
            {% endif %}

            <!-- EXAMPLES DELETED -->

            {% set n_examples_deleted = example_deletions|length %} {% if
            n_examples_deleted > 0 %}
            <tr>
              <td>
                <b>Deleted Examples ({{ n_examples_deleted }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% for notification in example_deletions -%}
                  <li>
                    {{ notification.source_uuid }}&emsp;({{
                    notification.created_at }})
                  </li>
                  {%- endfor %}
                </ul>
              </td>
            </tr>
            {% elif example_deletions_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>Deleted Examples ({{ example_deletions_count }})</b>
              </td>
            </tr>
            {% endif %}

            <!-- EXAMPLES CREATED -->

            {% set n_examples_created = example_creations|length %} {% if
            n_examples_created > 0 %}
            <tr>
              <td>
                <b>Created Examples ({{ n_examples_created }})</b>
              </td>
            </tr>
            <tr>
              <td style="padding-bottom: 1rem">
                <ul>
                  {% if n_examples_created > 50 %}
                  <li>{{ n_examples_created }} examples created</li>
                  {% else %} {% for example in example_creations -%}
                  <li>{{ example.uuid }}&emsp;({{ example.created_at }})</li>
                  {%- endfor %} {% endif %}
                </ul>
              </td>
            </tr>
            {% elif example_creations_count > 0 %}
            <tr>
              <td style="padding-bottom: 1rem">
                <b>Created Examples ({{ example_creations_count }})</b>
              </td>
            </tr>
            {% endif %}
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
